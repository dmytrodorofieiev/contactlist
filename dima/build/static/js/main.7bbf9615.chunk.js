(this.webpackJsonpmodule3=this.webpackJsonpmodule3||[]).push([[0],{16:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return j})),n.d(e,"a",(function(){return p}));var r=n(6),c=n.n(r),a=n(17),u=n(12),i=n.n(u),o=n(1),s="https://goit-phonebook-api.herokuapp.com",l=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){i.a.defaults.headers.common.Authorization=""},d=Object(o.c)("users/login",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("".concat(s,"/users/login"),e);case 3:return r=t.sent,a=r.data,l(a.token),t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(100));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()),f=Object(o.c)("/users/logout",function(){var t=Object(a.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("".concat(s,"/users/logout"));case 3:b(),t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(100));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()),j=Object(o.c)("/users/signup",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("".concat(s,"/users/signup"),e);case 3:return r=t.sent,a=r.data,l(a.token),t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(100));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()),p=Object(o.c)("auth/refresh",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,u,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getState(),null!==(a=r.auth.token)){t.next=4;break}return t.abrupt("return",n.rejectWithValue());case 4:return l(a),t.prev=5,t.next=8,i.a.get("".concat(s,"/users/current"));case 8:return u=t.sent,o=u.data,t.abrupt("return",o);case 13:return t.prev=13,t.t0=t.catch(5),t.abrupt("return",n.rejectWithValue(100));case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e,n){return t.apply(this,arguments)}}())},18:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return a}));var r=function(t){return t.auth.isLoggedIn},c=function(t){return t.auth.user.name},a=function(t){return t.auth.isLoading}},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return b}));var r=n(6),c=n.n(r),a=n(17),u=n(12),i=n.n(u),o=n(1);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=Object(o.c)("contacts/ADD_SUCCESS",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("/contacts",e);case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(100));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()),l=Object(o.c)("contacts/DELETE_SUCCESS",function(){var t=Object(a.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.delete("/contacts/".concat(e));case 3:return t.abrupt("return",e);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(200));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()),b=Object(o.c)("contacts/FETCH_SUCCESS",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("/contacts",e);case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(100));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}())},42:function(t,e,n){"use strict";var r=n(1);e.a=Object(r.b)("filter/setFilter")},44:function(t,e,n){t.exports={container:"style_container__mLpjI"}},52:function(t,e,n){},79:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n(0),a=n.n(c),u=n(24),i=n.n(u),o=(n(52),n(23)),s=n(4),l=n(15),b=n(16),d=n(20),f=n(26),j=n(18);function p(t){var e=t.children,n=Object(f.a)(t,["children"]),c=Object(l.d)(j.b);return Object(r.jsx)(s.b,Object(d.a)(Object(d.a)({},n),{},{children:c?e:Object(r.jsx)(s.a,{to:"login"})}))}function O(t){var e=t.children,n=t.redirectTo,c=void 0===n?"/":n,a=t.restricted,u=void 0!==a&&a,i=Object(f.a)(t,["children","redirectTo","restricted"]),o=Object(l.d)(j.b)&&u;return Object(r.jsx)(s.b,Object(d.a)(Object(d.a)({},i),{},{children:o?Object(r.jsx)(s.a,{to:c}):e}))}var h=n(44),v=n.n(h);function g(t){var e=t.children;return Object(r.jsx)("div",{className:v.a.container,children:e})}var x=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,97))})),k=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,94))})),E=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,95))})),S=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,98))}));function m(){var t=Object(l.c)(),e=Object(l.d)(j.a);return Object(c.useEffect)((function(){t(Object(b.a)())}),[t]),Object(r.jsx)(g,{children:e?"Loading...":Object(r.jsx)(o.a,{children:Object(r.jsx)(s.d,{children:Object(r.jsxs)(c.Suspense,{fallback:"Loading...",children:[Object(r.jsx)(S,{}),Object(r.jsx)(p,{exact:!0,path:"/",children:Object(r.jsx)(x,{})}),Object(r.jsx)(p,{exact:!0,path:"/contacts",children:Object(r.jsx)(x,{})}),Object(r.jsx)(O,{exact:!0,path:"/login",restricted:!0,children:Object(r.jsx)(k,{})}),Object(r.jsx)(O,{exact:!0,path:"/signup",redirectTo:"/contacts",restricted:!0,children:Object(r.jsx)(E,{})})]})})})})}var y,L,C=function(t){t&&t instanceof Function&&n.e(7).then(n.bind(null,96)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,u=e.getTTFB;n(t),r(t),c(t),a(t),u(t)}))},T=n(45),w=n(46),R=n(1),_=n(5),D=(Object(R.b)("contacts/ADD_START"),Object(R.b)("contacts/ADD_SUCCESS"),Object(R.b)("contacts/ADD_ERROR")),A=(Object(R.b)("contacts/DELETE_START"),Object(R.b)("contacts/DELETE_SUCCESS"),Object(R.b)("contacts/DELETE_ERROR")),F=(Object(R.b)("contacts/FETCH_START"),Object(R.b)("contacts/FETCH_SUCCESS"),Object(R.b)("contacts/FETCH_ERROR"),n(21)),I=Object(R.e)({name:"data",initialState:{data:[]},extraReducers:(y={},Object(_.a)(y,F.a.fulfilled,(function(t,e){t.data.push(e.payload)})),Object(_.a)(y,F.a.pending,(function(t,e){})),Object(_.a)(y,D.fulfilled,(function(t,e){})),Object(_.a)(y,F.b.fulfilled,(function(t,e){t.data=t.data.filter((function(t){return t.id!==e.payload}))})),Object(_.a)(y,A.fulfilled,(function(t,e){t.data=t.data.filter((function(t){return t.id!==e.payload}))})),Object(_.a)(y,F.c.fulfilled,(function(t,e){t.data=e.payload})),y)}).reducer,V=n(42),W=Object(R.d)("",Object(_.a)({},V.a,(function(t,e){return e.payload}))),z=Object(R.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1,isLoading:!1},extraReducers:(L={},Object(_.a)(L,b.b.fulfilled,(function(t,e){t.token=e.payload.token,t.isLoggedIn=!0,t.user=e.payload.user})),Object(_.a)(L,b.c.fulfilled,(function(t,e){t.token=null,t.isLoggedIn=!1,t.user=null})),Object(_.a)(L,b.d.fulfilled,(function(t,e){t.token=e.payload.token,t.isLoggedIn=!0,t.user=e.payload.user})),Object(_.a)(L,b.a.pending,(function(t,e){t.isLoading=!0})),Object(_.a)(L,b.a.fulfilled,(function(t,e){t.user=e.payload,t.isLoggedIn=!0,t.isLoading=!1})),Object(_.a)(L,b.a.rejected,(function(t,e){t.isLoading=!1})),L)}).reducer,U=n(32),H=n.n(U),B=n(14),J={key:["auth"],storage:H.a,whitelist:["token"]},P={key:["data"],storage:H.a,whitelist:["contacts"]},M=Object(w.a)(Object(R.f)({serializableCheck:{ignoredActions:[B.a,B.f,B.b,B.c,B.d,B.e]}})),N=Object(R.a)({reducer:{filter:W,contacts:Object(B.g)(P,I),auth:Object(B.g)(J,z)},middleware:M,devTools:!1}),q=Object(B.h)(N);i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(l.a,{store:N,children:Object(r.jsx)(T.a,{loading:null,persistor:q,children:Object(r.jsx)(m,{})})})}),document.getElementById("root")),C()}},[[79,1,2]]]);
//# sourceMappingURL=main.7bbf9615.chunk.js.map